<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="드라이버 디버깅 세팅하기" /><meta name="author" content="SeongsooJoo" /><meta property="og:locale" content="en_US" /><meta name="description" content="드라이버를 만들어서 설치를 하게 되면 다양한 문제에 봉착합니다. 바로 잘 만들어지면 최고의 결과겠지만 초보자의 단계에선 절대 그럴 수 없는듯 합니다. WDK를 설치하면 같이 설치되는 WinDbg가 이미 드라이버 설치를 끝난 단계에서만 사용 가능한줄 알았으나 연결 해 놓으면 드라이버 설치 시에 생기는 문제도 알려 줍니다." /><meta property="og:description" content="드라이버를 만들어서 설치를 하게 되면 다양한 문제에 봉착합니다. 바로 잘 만들어지면 최고의 결과겠지만 초보자의 단계에선 절대 그럴 수 없는듯 합니다. WDK를 설치하면 같이 설치되는 WinDbg가 이미 드라이버 설치를 끝난 단계에서만 사용 가능한줄 알았으나 연결 해 놓으면 드라이버 설치 시에 생기는 문제도 알려 줍니다." /><link rel="canonical" href="https://jooss287.github.io/posts/WinDbg_How_to_use/" /><meta property="og:url" content="https://jooss287.github.io/posts/WinDbg_How_to_use/" /><meta property="og:site_name" content="Jooss’s HardDisk" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-09-04T18:30:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="드라이버 디버깅 세팅하기" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@SeongsooJoo" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"SeongsooJoo"},"headline":"드라이버 디버깅 세팅하기","dateModified":"2021-07-28T17:41:41+09:00","datePublished":"2020-09-04T18:30:00+09:00","description":"드라이버를 만들어서 설치를 하게 되면 다양한 문제에 봉착합니다. 바로 잘 만들어지면 최고의 결과겠지만 초보자의 단계에선 절대 그럴 수 없는듯 합니다. WDK를 설치하면 같이 설치되는 WinDbg가 이미 드라이버 설치를 끝난 단계에서만 사용 가능한줄 알았으나 연결 해 놓으면 드라이버 설치 시에 생기는 문제도 알려 줍니다.","url":"https://jooss287.github.io/posts/WinDbg_How_to_use/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://jooss287.github.io/posts/WinDbg_How_to_use/"},"@context":"https://schema.org"}</script><title>드라이버 디버깅 세팅하기 | Jooss's HardDisk</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://cdn.jsdelivr.net/gh/cotes2020/chirpy-images/commons/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Jooss's HardDisk</a></div><div class="site-subtitle font-italic">Studies, Memos, Organizes</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/Jooss287" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['jooss287','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>드라이버 디버깅 세팅하기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>드라이버 디버깅 세팅하기</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, Sep 4, 2020, 6:30 PM +0900" > Sep 4, 2020 <i class="unloaded">2020-09-04T18:30:00+09:00</i> </span> by <span class="author"> SeongsooJoo </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Wed, Jul 28, 2021, 5:41 PM +0900" > Jul 28 <i class="unloaded">2021-07-28T17:41:41+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="787 words">4 min</span></div></div><div class="post-content"><p>드라이버를 만들어서 설치를 하게 되면 다양한 문제에 봉착합니다. 바로 잘 만들어지면 최고의 결과겠지만 초보자의 단계에선 절대 그럴 수 없는듯 합니다. WDK를 설치하면 같이 설치되는 WinDbg가 이미 드라이버 설치를 끝난 단계에서만 사용 가능한줄 알았으나 연결 해 놓으면 드라이버 설치 시에 생기는 문제도 알려 줍니다.</p><p>기본적으로 드라이버 개발 시에는 개발을 진행하는 PC에서 테스트를 하는 것이 아닌 원격 PC를 이용하여 아무것도 설치되지 않은 PC를 이용하여 진행합니다.<br /> 드라이버를 설치 할 PC를 <code class="language-plaintext highlighter-rouge">원격 PC</code>로, 개발을 진행하는 PC를 <code class="language-plaintext highlighter-rouge">개발PC</code>로 명명하고 진행하겠습니다.</p><hr /><h2 id="원격-pc-설정">원격 PC 설정</h2><p><code class="language-plaintext highlighter-rouge">원격 PC</code>에서 <code class="language-plaintext highlighter-rouge">개발PC</code>의 접근권한을 허용하기 위해 Command 창을 관리자 권한으로 열어줍니다.</p><ul><li>윈도우 버튼을 눌러 “CMD” 입력 후 <code class="language-plaintext highlighter-rouge">Shift</code>+<code class="language-plaintext highlighter-rouge">Ctrl</code>+<code class="language-plaintext highlighter-rouge">Enter</code><li>아래의 커맨드를 입력합니다.</ul><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>bcdedit /set debug on  
bcdedit /set testsigning on  
bcdedit /dbgsettings net hostip:<span class="o">{</span>개발PC IP<span class="o">}</span> port:50000 key:<span class="o">{</span>a.b.c.d<span class="o">}</span>  
</pre></table></code></div></div><p>입력 시 Key의 값을 입력하지 않으면 임의의 키를 생성 해 줍니다. 보안이 필요한 Online 상에서 사용하지만 내부적으로 사용 시에는 직접 쉬운 키를 입력하여 사용합니다. 입력 시에는 .을 이용한 4개 파트를 적어주어야 합니다. Ex. abcd.bcd.ed.aaa (파트1.파트2.파트3.파트4)</p><h2 id="개발-pc-설정">개발 PC 설정</h2><p><code class="language-plaintext highlighter-rouge">Windbg</code>를 설정하기 앞서 MS사에서 제공하는 Symbol들을 저장할 폴더를 만들어야 합니다.<br /> 예시로 아래와 같은 폴더를 생성하였습니다. 이 폴더는 Driver Debug를 하면서 필요한 자료이 저장이 됩니다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>C:<span class="se">\s</span>ym
C:<span class="se">\s</span>ym<span class="se">\w</span>ebsym
</pre></table></code></div></div><p>그 이후 <code class="language-plaintext highlighter-rouge">WDK</code> 를 설치하고 나면 시작에서 <code class="language-plaintext highlighter-rouge">WinDbg</code>를 찾을 수 있습니다.</p><ol><li>운영체제 환경에 따라 32bit, 64bit를 선택하여 열어줍니다.<li><code class="language-plaintext highlighter-rouge">File</code>-<code class="language-plaintext highlighter-rouge">Symbol File Path</code>를 열어 아래의 명령어를 입력합니다.<li><code class="language-plaintext highlighter-rouge">C:\sym; srv*C:\sym\symbol*http://msdl.microsoft.com/download/symbols</code><li>작업을 완료하면 <code class="language-plaintext highlighter-rouge">Save Workspace</code>를 눌러 작업을 저장합시다. <code class="language-plaintext highlighter-rouge">Save Workspace As</code>를 통해 다른 특정 이름으로 저장이 가능합니다.</ol><p>위의 주소는 <code class="language-plaintext highlighter-rouge">Kernel Debug</code>창에서 Help를 눌러 <code class="language-plaintext highlighter-rouge">symbol</code>을 검색하여 나오는 <code class="language-plaintext highlighter-rouge">Microsoft public symbol server</code>에서 찾을 수 있습니다.</p><p>작업이 완료되었다면 <code class="language-plaintext highlighter-rouge">File</code>-<code class="language-plaintext highlighter-rouge">Kernel Debug</code>에서 <code class="language-plaintext highlighter-rouge">Port</code>와 <code class="language-plaintext highlighter-rouge">원격PC</code>에서 설정한 <code class="language-plaintext highlighter-rouge">Key</code>값을 입력하면 자동으로 연결이 시작됩니다. 이 때 <code class="language-plaintext highlighter-rouge">원격PC</code>를 재부팅하면 드라이버의 생성 과정을 디버깅 할 수 있습니다.</p><h2 id="windbg-report">Windbg report</h2><p><code class="language-plaintext highlighter-rouge">WinDbg</code>를 켜 놓은 상태에서 드라이버 설치를 진행하다 문제가 생겼을 경우 아래와 같이 Report를 받을 수 있습니다. <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/img/20-09-04_DriverDebugging.png" alt="report debug message" /></p><h2 id="driver-debug-print">Driver Debug Print</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ed Kd_DEFAULT_MASK 8
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/language/'>Language</a>, <a href='/categories/c/'>C</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/windows-driver/" class="post-tag no-text-decoration" >windows driver</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=드라이버 디버깅 세팅하기 - Jooss's HardDisk&url=https://jooss287.github.io/posts/WinDbg_How_to_use/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=드라이버 디버깅 세팅하기 - Jooss's HardDisk&u=https://jooss287.github.io/posts/WinDbg_How_to_use/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=드라이버 디버깅 세팅하기 - Jooss's HardDisk&url=https://jooss287.github.io/posts/WinDbg_How_to_use/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/kmdf/">KMDF 정리</a><li><a href="/posts/wdm_Terminology/">WDM 용어 정리</a><li><a href="/posts/Build_driver/">Driver 빌드하기</a><li><a href="/posts/Make_Inf/">Driver Inf 작성하기, Driver 빌드하기</a><li><a href="/posts/WinDbg_How_to_use/">드라이버 디버깅 세팅하기</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/windows-driver/">windows driver</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/django/">django</a> <a class="post-tag" href="/tags/env-setting/">env setting</a> <a class="post-tag" href="/tags/commit/">commit</a> <a class="post-tag" href="/tags/tomcat/">tomcat</a> <a class="post-tag" href="/tags/unit-test/">unit test</a> <a class="post-tag" href="/tags/boost/">boost</a> <a class="post-tag" href="/tags/class/">class</a> <a class="post-tag" href="/tags/etc-recording/">etc recording</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/kmdf/"><div class="card-body"> <span class="timeago small" > Jul 20, 2020 <i class="unloaded">2020-07-20T18:30:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>KMDF 정리</h3><div class="text-muted small"><p> Kernel Mode Driver Development 지난번 TIL에서 Windows Driver Kit 개발 환경 세팅을 진행했습니다. Windows architecture를 공부함과 동시에 어떤식으로 Driver를 개발해야 하는지에 대해서도 지속적으로 공부중입니다. 공부하고 있는 것들을 간단하게나마 정리하고자 합니다. WDM과 WDF Win...</p></div></div></a></div><div class="card"> <a href="/posts/wdm_Terminology/"><div class="card-body"> <span class="timeago small" > Aug 4, 2020 <i class="unloaded">2020-08-04T18:30:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>WDM 용어 정리</h3><div class="text-muted small"><p> 파일 입출력과 IRP 응용 프로그램 단에서 드라이버와 통신을 하게 되면 드라이퍼를 ‘파일’로써 인식하고 Win32API 를 사용하여 통신을 하게 됩니다. Win32API의 CreateFile을 호출하게 되면 Dirver단에서 IRP_MJ_CREATE 명령어가 생성되어 드라이버에게 전달합니다. 또한 드라이버에서는 MRP_MJ_CREATE명령어를 처리하...</p></div></div></a></div><div class="card"> <a href="/posts/PCISample_code_analysis/"><div class="card-body"> <span class="timeago small" > Aug 21, 2020 <i class="unloaded">2020-08-21T18:30:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>PCISample 함수 분석</h3><div class="text-muted small"><p> DriverEntry DriverUnload: Unload 루틴 포인터, Unload 시 해다 함수 실행 DriverExtension: Dirver Extension pointer. AddDevice을 통해서 드라이버 확장 루틴 진행 MajorFunction: Driver의 Dispatch루틴에 대한 진입경로, 드라이버가 처리하는 IRP...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Make_Inf/" class="btn btn-outline-primary" prompt="Older"><p>Driver Inf 작성하기, Driver 빌드하기</p></a> <a href="/posts/Edit_commit_author/" class="btn btn-outline-primary" prompt="Newer"><p>Git commit의 Author 변경하기</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://github.com/Jooss287">Jooss287</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/windows-driver/">windows driver</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/django/">django</a> <a class="post-tag" href="/tags/env-setting/">env setting</a> <a class="post-tag" href="/tags/commit/">commit</a> <a class="post-tag" href="/tags/tomcat/">tomcat</a> <a class="post-tag" href="/tags/unit-test/">unit test</a> <a class="post-tag" href="/tags/boost/">boost</a> <a class="post-tag" href="/tags/class/">class</a> <a class="post-tag" href="/tags/etc-recording/">etc recording</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://Jooss287.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
