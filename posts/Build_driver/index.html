<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Driver 빌드하기" /><meta name="author" content="SeongsooJoo" /><meta property="og:locale" content="en_US" /><meta name="description" content="드라이버의 빌드과정은 일반적인 프로그램 제작과는 조금 다른 과정을 거칩니다. Visual studio에서 inf빌드가 가능하지만 안정성을 이유로 EWDK를 사용하여 빌드과정을 거칩니다. Microsoft 설치파일배포 페이지에서 EWDK를 다운받을 수 있습니다. EWDK downalod page" /><meta property="og:description" content="드라이버의 빌드과정은 일반적인 프로그램 제작과는 조금 다른 과정을 거칩니다. Visual studio에서 inf빌드가 가능하지만 안정성을 이유로 EWDK를 사용하여 빌드과정을 거칩니다. Microsoft 설치파일배포 페이지에서 EWDK를 다운받을 수 있습니다. EWDK downalod page" /><link rel="canonical" href="https://jooss287.github.io/posts/Build_driver/" /><meta property="og:url" content="https://jooss287.github.io/posts/Build_driver/" /><meta property="og:site_name" content="Jooss’s HardDisk" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-08-24T18:30:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Driver 빌드하기" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@SeongsooJoo" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"SeongsooJoo"},"headline":"Driver 빌드하기","dateModified":"2021-07-28T17:41:41+09:00","datePublished":"2020-08-24T18:30:00+09:00","description":"드라이버의 빌드과정은 일반적인 프로그램 제작과는 조금 다른 과정을 거칩니다. Visual studio에서 inf빌드가 가능하지만 안정성을 이유로 EWDK를 사용하여 빌드과정을 거칩니다. Microsoft 설치파일배포 페이지에서 EWDK를 다운받을 수 있습니다. EWDK downalod page","url":"https://jooss287.github.io/posts/Build_driver/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://jooss287.github.io/posts/Build_driver/"},"@context":"https://schema.org"}</script><title>Driver 빌드하기 | Jooss's HardDisk</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://cdn.jsdelivr.net/gh/cotes2020/chirpy-images/commons/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Jooss's HardDisk</a></div><div class="site-subtitle font-italic">Studies, Memos, Organizes</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/Jooss287" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['jooss287','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Driver 빌드하기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Driver 빌드하기</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Aug 24, 2020, 6:30 PM +0900" > Aug 24, 2020 <i class="unloaded">2020-08-24T18:30:00+09:00</i> </span> by <span class="author"> SeongsooJoo </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Wed, Jul 28, 2021, 5:41 PM +0900" > Jul 28 <i class="unloaded">2021-07-28T17:41:41+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="572 words">3 min</span></div></div><div class="post-content"><p>드라이버의 빌드과정은 일반적인 프로그램 제작과는 조금 다른 과정을 거칩니다. Visual studio에서 inf빌드가 가능하지만 안정성을 이유로 EWDK를 사용하여 빌드과정을 거칩니다. Microsoft 설치파일배포 페이지에서 EWDK를 다운받을 수 있습니다.<br /> <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/download-the-wdk#download-icon-ewdk-with-visual-studio-build-tools">EWDK downalod page</a> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/img/20-08-24_EWDK_Download.png" alt="MS EWDK 다운로드 홈페이지" /></p><p>WDK와 버전을 맞춰 EWDK를 다운로드 한 뒤 마운트시키면 몇가지 파일들이 보입니다. 그 중 LunchBuildEnv.cmd를 켜서 Command Mode에서 build 작업을 수행합니다. 프로젝트가 있는 폴더로 <code class="language-plaintext highlighter-rouge">cd</code> 명령어를 이용하여 이동 후 빌드 작업을 수행하게 됩니다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/img/20-08-24_EWDK_Lunch.png" alt="EWDK 실행 시 화면" /></p><p>프로젝트 폴더가 있는 곳에서 project 이름과 build type 등을 입력 해 주면 됩니다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>msbuild PCISample.vcxproj /t:Rebuild /p:Configuration<span class="o">=</span><span class="s2">"Debug"</span><span class="p">;</span><span class="nv">Platform</span><span class="o">=</span>x64
</pre></table></code></div></div><p>테스트 할 경우에는 모든 명령어를 쓰지 않고 미리 bat파일로 작성하여 자동화시켜 줍니다.</p><ul><li><strong>samplebuild.bat</strong></ul><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre>@echo off
msbuild PCISample.vcxproj /t:Rebuild /p:Configuration<span class="o">=</span><span class="s2">"Debug"</span><span class="p">;</span><span class="nv">Platform</span><span class="o">=</span>x64
IF %ERRORLEVEL% NEQ 0 GOTO ERROR

:OK
<span class="nb">echo</span> <span class="c">################################</span>
<span class="nb">echo</span> <span class="c">################################</span>
<span class="nb">echo         </span>Build Success!!
<span class="nb">echo</span> <span class="c">################################</span>
<span class="nb">echo</span> <span class="c">################################</span>
goto end

:ERROR
<span class="nb">echo</span> <span class="c">################################</span>
<span class="nb">echo</span> <span class="c">################################</span>
<span class="nb">echo         </span>Build Error!!
<span class="nb">echo</span> <span class="c">################################</span>
<span class="nb">echo</span> <span class="c">################################</span>
goto end

:end
</pre></table></code></div></div><h2 id="driver-install">Driver Install</h2><p>64bit PC에서 드라이버를 설치하기 위하여 default 값으로 WHQL(Windows Hardware Quality Labs Testing) 인증을 받게 되어 있습니다. 그러나 회사 내부에서 사용하기 위한 Driver는 MS사의 WHQL인증을 받지 않습니다.<br /> PC에서 인증되지 않은 드라이버를 설치하기 위해서 command 창을 열어줍니다.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>bcdedit /set testsigning on
bcdedit /set debug on 
</pre></table></code></div></div><p>위의 코드를 입력하고 재부팅 하게 되면 아래와 같은 글자를 볼 수 있습니다.<br /> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/img/20-08-24_windows10_TestMode.png" alt="Testmode 결과 이미지" /></p><ul><li><a href="https://ruinses.tistory.com/654">Runtime 시 장비 설정 방법</a></ul><ol><li>실행 창에서 <code class="language-plaintext highlighter-rouge">devmgmt.msc</code>를 입력하여 장치관리자로 들어갑니다.<li><code class="language-plaintext highlighter-rouge">동작</code> - <code class="language-plaintext highlighter-rouge">레거시 하드웨어 추가</code><li>목록에서 직접 선택한 하드웨어 설치(고급) 선택<li>EWDK로 build 한 inf 파일 선택 및 설치<li>오류 없이 설치가 되었을 경우 아래와 같이 드라이버가 추가 된 것을 확인 할 수 있습니다.<br /> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/img/20-08-24_DriverInstall.png" alt="드라이버 설치 결과" /></ol></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/language/'>Language</a>, <a href='/categories/c/'>C</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/windows-driver/" class="post-tag no-text-decoration" >windows driver</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Driver 빌드하기 - Jooss's HardDisk&url=https://jooss287.github.io/posts/Build_driver/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Driver 빌드하기 - Jooss's HardDisk&u=https://jooss287.github.io/posts/Build_driver/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Driver 빌드하기 - Jooss's HardDisk&url=https://jooss287.github.io/posts/Build_driver/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/kmdf/">KMDF 정리</a><li><a href="/posts/wdm_Terminology/">WDM 용어 정리</a><li><a href="/posts/Build_driver/">Driver 빌드하기</a><li><a href="/posts/Make_Inf/">Driver Inf 작성하기, Driver 빌드하기</a><li><a href="/posts/WinDbg_How_to_use/">드라이버 디버깅 세팅하기</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/windows-driver/">windows driver</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/django/">django</a> <a class="post-tag" href="/tags/env-setting/">env setting</a> <a class="post-tag" href="/tags/commit/">commit</a> <a class="post-tag" href="/tags/tomcat/">tomcat</a> <a class="post-tag" href="/tags/unit-test/">unit test</a> <a class="post-tag" href="/tags/boost/">boost</a> <a class="post-tag" href="/tags/class/">class</a> <a class="post-tag" href="/tags/etc-recording/">etc recording</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/kmdf/"><div class="card-body"> <span class="timeago small" > Jul 20, 2020 <i class="unloaded">2020-07-20T18:30:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>KMDF 정리</h3><div class="text-muted small"><p> Kernel Mode Driver Development 지난번 TIL에서 Windows Driver Kit 개발 환경 세팅을 진행했습니다. Windows architecture를 공부함과 동시에 어떤식으로 Driver를 개발해야 하는지에 대해서도 지속적으로 공부중입니다. 공부하고 있는 것들을 간단하게나마 정리하고자 합니다. WDM과 WDF Win...</p></div></div></a></div><div class="card"> <a href="/posts/wdm_Terminology/"><div class="card-body"> <span class="timeago small" > Aug 4, 2020 <i class="unloaded">2020-08-04T18:30:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>WDM 용어 정리</h3><div class="text-muted small"><p> 파일 입출력과 IRP 응용 프로그램 단에서 드라이버와 통신을 하게 되면 드라이퍼를 ‘파일’로써 인식하고 Win32API 를 사용하여 통신을 하게 됩니다. Win32API의 CreateFile을 호출하게 되면 Dirver단에서 IRP_MJ_CREATE 명령어가 생성되어 드라이버에게 전달합니다. 또한 드라이버에서는 MRP_MJ_CREATE명령어를 처리하...</p></div></div></a></div><div class="card"> <a href="/posts/PCISample_code_analysis/"><div class="card-body"> <span class="timeago small" > Aug 21, 2020 <i class="unloaded">2020-08-21T18:30:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>PCISample 함수 분석</h3><div class="text-muted small"><p> DriverEntry DriverUnload: Unload 루틴 포인터, Unload 시 해다 함수 실행 DriverExtension: Dirver Extension pointer. AddDevice을 통해서 드라이버 확장 루틴 진행 MajorFunction: Driver의 Dispatch루틴에 대한 진입경로, 드라이버가 처리하는 IRP...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/PCISample_code_analysis/" class="btn btn-outline-primary" prompt="Older"><p>PCISample 함수 분석</p></a> <a href="/posts/Make_Inf/" class="btn btn-outline-primary" prompt="Newer"><p>Driver Inf 작성하기, Driver 빌드하기</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://github.com/Jooss287">Jooss287</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/windows-driver/">windows driver</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/django/">django</a> <a class="post-tag" href="/tags/env-setting/">env setting</a> <a class="post-tag" href="/tags/commit/">commit</a> <a class="post-tag" href="/tags/tomcat/">tomcat</a> <a class="post-tag" href="/tags/unit-test/">unit test</a> <a class="post-tag" href="/tags/boost/">boost</a> <a class="post-tag" href="/tags/class/">class</a> <a class="post-tag" href="/tags/etc-recording/">etc recording</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://Jooss287.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
